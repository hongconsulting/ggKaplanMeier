---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-"
)
```

# ggKaplanMeier

<!-- badges: start -->
<!-- badges: end -->

Kaplan–Meier plots using the `ggplot2` package, with an overall Stata-like style. Differences compared to `survminer::ggsurvplot()` include:

* Transparent confidence interval areas are always drawn behind survival curves and never over them.

* Censor marks are drawn as customizable line segments instead of point symbols.

* The risk table title is spaced uniformly with the risk table rows.

* The Kaplan–Meier y-axis title remains fixed in place, unaffected by the width of risk table labels.

## Installation

You can install the development version of ggKaplanMeier from [GitHub](https://github.com/hongconsulting/ggKaplanMeier) with:

``` r
remotes::install_github("hongconsulting/ggKaplanMeier")
```

## Example

```{r example}
library(ggKaplanMeier)
data <- survival::lung
g <- ggKM(data$time * 12 / 365.2425, data$status - 1, data$sex, legend.labels = c("Male", "Female"), title.s = "Overall survival", title.t = "Time (months)", CI= 3)
print(g)
```

## Further Reading
1. Greenwood, M., 1926. A report on the natural duration of cancer. In: *Reports on Public Health and Medical Subjects*, 33, pp. 1–26. London: Her Majesty’s Stationery Office, Ministry of Health.
2. Rothman, K.J., 1978. Estimation of confidence limits for the cumulative probability of survival in life table analysis. *Journal of Chronic Diseases*, 31(8), pp. 557–560.
3. Thomas, D.R. and Grunkemeier, G.L., 1975. Confidence interval estimation of  survival probabilities for censored data. *Journal of the American Statistical Association*, 70(352), pp. 865–871.
4. Nair, V.N., 1984. Conﬁdence bands for survival functions with censored data: a comparative study. *Technometrics*, 26, pp. 265–275.